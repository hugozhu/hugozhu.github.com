<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Acme.sh on All about Raspberry Pi</title><link>/tags/acme.sh/</link><description>Recent content in Acme.sh on All about Raspberry Pi</description><generator>Hugo</generator><language>en</language><managingEditor>hugozhu@gmail.com (Hugo Zhu)</managingEditor><webMaster>hugozhu@gmail.com (Hugo Zhu)</webMaster><lastBuildDate>Sun, 07 Jul 2024 00:00:00 +0000</lastBuildDate><atom:link href="/tags/acme.sh/index.xml" rel="self" type="application/rss+xml"/><item><title>使用acme_docker自动更新免费域名证书</title><link>/post/2024/76-acme-docker-auto-uptime/</link><pubDate>Sun, 07 Jul 2024 00:00:00 +0000</pubDate><author>hugozhu@gmail.com (Hugo Zhu)</author><guid>/post/2024/76-acme-docker-auto-uptime/</guid><description>问题和解决方案 免费域名证书需要三个月更新一次 解决方案：apisix, docker, acme.sh, dnspod Apisix https://apisix.org Apisix是优秀的开源网关，更新证书不需要重启服务，可以作为所有服务的网关
Acme Docker https://github.com/hugozhu/acme_docker/blob/main/README.md 项目已配置好使用docker来更新证书并生成apisix的json
docker-compose.yaml
version: &amp;#34;3&amp;#34; services: acme: image: neilpang/acme.sh container_name: acme #restart: always command: daemon env_file: - .env volumes: - ./cert:/acme.sh 重新申请免费证书 docker-compose up -d docker exec acme acme.sh --set-default-ca --server letsencrypt docker exec acme acme.sh --issue --dns dns_dp -d hugozhu.site -d *.hugozhu.site -d *.go.hugozhu.site docker-compose down cat hugozhu.site.json apisix上更新证书 data=$( cat &amp;#34;hugozhu.site.json&amp;#34; ) curl &amp;#39;http://127.0.0.1:9180/apisix/admin/ssls/1&amp;#39; \ -H &amp;#34;X-API-KEY: $API_KEY&amp;#34; -X PUT -d &amp;#34;$data&amp;#34;`</description></item></channel></rss>